<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Leguminosae</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.1.2/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.1.2/dist/theme/night.css" id="theme">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

    <style type="text/css" media="screen">
        .slides section.has-dark-background,
        .slides section.has-dark-background h3 {
            color: #fff;
        }

        .slides section.has-light-background,
        .slides section.has-light-background h3 {
            color: #222;
        }

        #toc {
            position: fixed;
            top: 50%;
            left: 20px;
            transform: translateY(-50%);
            z-index: 9999;
            list-style-type: none;
            padding: 0;
            height: 80vh;
            overflow: hidden;
        }

        #toc ul {
            margin: 0;
            padding: 0;
            transform: translateY(0);
        }

        #toc li {
            font-size: 16px;
            margin-top: 10px;
            opacity: 0.7;
            transition: opacity 0.3s;
        }

        #toc li.current {
            font-weight: bold;
            opacity: 1;
        }

        #toc li.sublevel {
            margin-left: 20px;
            font-weight: normal;
        }

        #toc .viewport {
            height: 100%;
            overflow: hidden;
        }

        #toc .overview {
            height: auto;
        }
    </style>
</head>

<body>

    <div class="reveal">

        <div class="slides">

            <section data-transition="fade">
                <h2>Leguminosae</h2>
                <h4>states and fates of the Brazilian flora conservation</h4>
                
                <p style="font-size: large;">
                    Ana M.G.A. Tozzi, Ana Paula F. Perez, Andreia S. Flores, Angela L.B. Sartori, Angela M.S.F. Vaz, 
                    Caio V.V. Damasceno Melo, Catarina de Carvalho, Domingos B.O.S. Cardoso, Eduardo T. Amorim, Elvira R. Souza, 
                    Fabiana Filardi, Fernanda C. Wimmer, Fernando M. Fernandes, Flávia C.P. Garcia, Gláucia C. Ferreira, 
                    Haroldo C. Lima, João R.V. Iganci, José F.M. Valls, José M. Fernandes, Juliana G. Rando, Laila Araújo, 
                    Laura C.P. Lima, Leila C. Costa, Leonardo Novaes, Lucas A. Aragão, Lucas S.B. Jordão, Luciano P. Queiroz, 
                    Marcelo F. Devecchi, Marcelo F. Simon, Mário Gomes, Marli P. Morim, Matheus M.T. Cota, Monira B. Bicalho, 
                    Nina L.A. Nunes, Pablo H.A. Mello, Roseli Bortoluzzi, Rubens T. de Queiroz, Silvia T.S. Miotto, 
                    Valquiria F. Dutra, Vicente Calfo, Vidal F. Mansano, Vinícius C. Souza, Eduardo Fernandez
                </p>
                <img src="./images/CNCFlora.png" style="height: 100px;"> <img src="./images/JBRJ.png" style="height: 170px;"> <img src="./images/gef.png" style="height: 100px;">
            </section>

            <section data-transition="none">
                <h4>worldwide: 22,323</h4>
                <img src="./images/fabaceaeWorld.png">
            </section>

            <section data-transition="none">
                <h4>Brazil: 3,068 (13.7%)</h4>
                <img src="./images/image1.jpg">
            </section>

            <section data-transition="none">
                <h4>assessed: 1,024 (33.4%)</h4>
                <img src="./images/image2.jpg">
            </section>

            <section data-transition="none">
                <h4>not threatened: 747 (73%)</h4>
                <img src="./images/image3.jpg">
            </section>

            <section data-transition="none">
                <h4>threatened: 277 (27%)</h4>
                <img src="./images/image4.jpg">
            </section>

            <section data-transition="convex">
                <section data-transition="convex">
                    <h4>threatened by category</h4>
                </section>
                <section data-transition="convex">
                    <h4><i>CR</i></h4>
                    <img src="./images/cr.png">
                </section>
                <section data-transition="convex">
                    <h4><i>EN</i></h4>
                    <img src="./images/en.png">
                </section>
                <section data-transition="convex">
                    <h4><i>VU</i></h4>
                    <img src="./images/vu.png">
                </section>
            </section>

            <section data-transition="convex">
                <section data-transition="convex">
                    <h4>threatened by genus</h4>
                    <img src="./images/image5.jpg">
                </section>
                <section data-transition="convex">
                    <h4><i>Mimosa</i></h4>
                    <img src="./images/mimosa.png">
                </section>
                <section data-transition="convex">
                    <h4><i>Chamaecrista</i></h4>
                    <img src="./images/chamaecrista.png">
                </section>
                <section data-transition="convex">
                    <h4><i>Swartzia</i></h4>
                    <img src="./images/swartzia.png">
                </section>
                <section data-transition="convex">
                    <h4><i>Inga</i></h4>
                    <img src="./images/inga.png">
                </section>
                <section data-transition="convex">
                    <h4><i>Muellera</i></h4>
                    <img src="./images/muellera.png">
                </section>
            </section>

            <section data-transition="convex">
                <section data-transition="convex">
                    <h4><i>threatened by domains</i></h4>
                    <img src="./images/phytogeographicDomains.jpg">
                </section>
                <section data-transition="convex">
                    <h4><i>Mata Atlântica</i></h4>
                    <img src="./images/mataAtlantica.png">
                </section>
                <section data-transition="convex">
                    <h4><i>Cerrado</i></h4>
                    <img src="./images/cerrado.png">
                </section>
                <section data-transition="convex">
                    <h4><i>Amazônia</i></h4>
                    <img src="./images/amazonia.png">
                </section>
                <section data-transition="convex">
                    <h4><i>Caatinga</i></h4>
                    <img src="./images/caatinga.png">
                </section>
                <section data-transition="convex">
                    <h4><i>Pampa</i></h4>
                    <img src="./images/pampa.png">
                </section>
                <section data-transition="convex">
                    <h4><i>Pantanal</i></h4>
                    <img src="./images/pantanal.png">
                </section>
            </section>

            <section data-transition="convex">
                <h4>threatened by States</h4>
                <div class="r-stack">
                    <img class="fragment fade-out" src="./images/nStates.png">
                    <img class="fragment current" src="./images/topStates.png" height="600">
                </div>
            </section>

            <section data-transition="convex">
                <h4>Tech stack</h4>
                <img src="./images/js.png" style="height: 150px;">
                <img src="./images/typescript.png" style="height: 150px;">
                <img src="./images/nodejs.png" style="height: 150px;">
                <img src="./images/nest.png" style="height: 150px;">
                <img src="./images/bull.png" style="height: 150px;">
                <img src="./images/bullboard.png" style="height: 150px;"> Bull-board
            </section>

            <section data-transition="convex">
                <h4>Bull-CNCFlora</h4>
                <div class="r-stack">
                    <img src="./images/bullcncflora.jpg" style="width: 100%;">
                    <img class="fragment" src="./images/bullcncflora2.jpg" style="width: 100%;">
                </div>
            </section>

            <section data-transition="convex">
                <img src="./images/CNCFlora.png">
                <img src="./images/JBRJ.png">
                <img src="./images/gef.png">
            </section>


        </div>

        <div id="toc">
            <div class="viewport">
                <div class="overview">
                    <ul>
                    </ul>
                </div>
            </div>
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.1.2/dist/reveal.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        Reveal.initialize({
            center: true,
            history: true,
            slideNumber: false,
            keyboard: {
                38: 'prev',
                40: 'next',
                37: null,
                39: null
            },
            parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
            parallaxBackgroundSize: '2100px 1150px'
        });

        var toc = document.querySelector('#toc ul');
        var sections = document.querySelectorAll('.slides > section');
        var currentSectionIndex = 0;
        var currentSubsectionIndex = 0;

        sections.forEach(function (section, index) {
            var heading = section.querySelector('h4');
            if (heading) {
                var listItem = document.createElement('li');
                listItem.textContent = heading.textContent;
                listItem.classList.add('level-1');
                if (index === currentSectionIndex) {
                    listItem.classList.add('current');
                }
                if (index === 0) {
                    listItem.style.display = 'none'; // Oculta o primeiro item do TOC
                }
                toc.appendChild(listItem);

                var subsections = section.querySelectorAll('section');
                if (subsections.length > 1) {
                    var sublist = document.createElement('ul');
                    sublist.classList.add('sublist');
                    listItem.appendChild(sublist);

                    for (var subindex = 1; subindex < subsections.length; subindex++) {
                        var subsection = subsections[subindex];
                        var subHeading = subsection.querySelector('h4');
                        if (subHeading) {
                            var subListItem = document.createElement('li');
                            subListItem.textContent = subHeading.textContent;
                            subListItem.classList.add('level-2');
                            subListItem.classList.add('sublevel');
                            if (index === currentSectionIndex && subindex === currentSubsectionIndex + 1) {
                                subListItem.classList.add('current');
                            }
                            sublist.appendChild(subListItem);

                            subListItem.addEventListener('click', function () {
                                var sectionIndex = Array.from(listItem.parentNode.children).indexOf(listItem);
                                var subSectionIndex = Array.from(sublist.children).indexOf(this);
                                Reveal.slide(sectionIndex, subSectionIndex + 1);
                            });
                        }
                    }
                }
            }
        });


        Reveal.addEventListener('slidechanged', function (event) {
            currentSectionIndex = event.indexh;
            currentSubsectionIndex = event.indexv - 1; // Subtrai 1 para alinhar com o índice dos subníveis

            var currentItems = document.querySelectorAll('#toc li.current');
            currentItems.forEach(function (item) {
                item.classList.remove('current');
            });

            var currentSectionItem = toc.querySelector('.level-1:nth-child(' + (currentSectionIndex + 1) + ')');
            if (currentSectionItem) {
                currentSectionItem.classList.add('current');
            }

            var currentSubsectionItem = currentSectionItem.querySelector('.level-2:nth-child(' + (currentSubsectionIndex + 1) + ')');
            if (currentSubsectionItem) {
                currentSubsectionItem.classList.add('current');
            }

            // Scroll TOC to center current slide
            var tocViewport = document.querySelector('#toc .viewport');
            var tocOverview = document.querySelector('#toc .overview');
            var currentSlide = currentSectionItem || currentSubsectionItem;
            if (currentSlide) {
                var currentSlideOffsetTop = currentSlide.offsetTop;
                var currentSlideOffsetHeight = currentSlide.offsetHeight;
                var viewportHeight = tocViewport.clientHeight;
                var currentSlideOffsetMiddle = currentSlideOffsetTop + currentSlideOffsetHeight / 2 - viewportHeight / 2;
                tocViewport.scrollTo({
                    top: currentSlideOffsetMiddle,
                    behavior: 'smooth'
                });
            }

            // Ocultar ou exibir o TOC com base no índice do slide atual
            if (currentSectionIndex === 0 && currentSubsectionIndex === -1) {
                document.getElementById('toc').style.display = 'none';
            } else {
                document.getElementById('toc').style.display = 'block';
            }
        });


        $(document).ready(function () {
            $('.level-1').click(function () {
                var index = $(this).index();
                Reveal.slide(index);
            });
        });
    </script>

</body>

</html>